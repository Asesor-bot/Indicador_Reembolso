--------------------------------------------------------
-- Archivo creado  - viernes-abril-18-2025   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table APELACION_G
--------------------------------------------------------

  CREATE TABLE "COSORIO"."APELACION_G" 
   (	"ID_APELACION" NUMBER(*,0), 
	"NIT" VARCHAR2(50 BYTE), 
	"EXPEDIENTE" VARCHAR2(30 BYTE), 
	"EMPLEADOR" VARCHAR2(300 BYTE), 
	"RUC" VARCHAR2(30 BYTE), 
	"DOCUMENTO" VARCHAR2(100 BYTE), 
	"FECHA_INGRESO" DATE, 
	"FECHA_RECEPCION" DATE, 
	"TIPO_DOCUMENTO" VARCHAR2(50 BYTE), 
	"DOCUMENTO_INPUGNADO" VARCHAR2(30 BYTE), 
	"RESOLUCION_COBRANZA" VARCHAR2(30 BYTE), 
	"MONTO" NUMBER(38,2), 
	"USUARIO_CREACION" VARCHAR2(50 BYTE), 
	"USUARIO_ACTUALIZACION" VARCHAR2(50 BYTE), 
	"FECHA_CREACION" DATE, 
	"FECHA_ACTUALIZACION" DATE, 
	"EST_APELACION" VARCHAR2(5 BYTE), 
	"EST_RESOLUTOR" VARCHAR2(5 BYTE), 
	"EST_RESOLVER" VARCHAR2(5 BYTE), 
	"EST_NOTIFICAR" VARCHAR2(5 BYTE), 
	"OBSERVACION" VARCHAR2(200 BYTE), 
	"TIPO_EXPEDIENTE" CHAR(1 BYTE), 
	"FECHA_LIMITE" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "CTAIND_DATA" ;

   COMMENT ON COLUMN "COSORIO"."APELACION_G"."EST_APELACION" IS '1 APELACION ACTIVA';
   COMMENT ON COLUMN "COSORIO"."APELACION_G"."EST_RESOLUTOR" IS '1 RESOLUTOR ASIGNADO 0 NO ASIGNADO';
   COMMENT ON COLUMN "COSORIO"."APELACION_G"."EST_RESOLVER" IS '1 SE RESOLVIO APELACION 0 NO SE RESOLVIO';
   COMMENT ON COLUMN "COSORIO"."APELACION_G"."EST_NOTIFICAR" IS '1 SE NOTIFICO APELACION 0 NO SE NOTIFICO';
   COMMENT ON COLUMN "COSORIO"."APELACION_G"."TIPO_EXPEDIENTE" IS '1 SIGNIFICA "RECONSIDERACION", 2 "APELACION"';
REM INSERTING into COSORIO.APELACION_G
SET DEFINE OFF;
Insert into COSORIO.APELACION_G (ID_APELACION,NIT,EXPEDIENTE,EMPLEADOR,RUC,DOCUMENTO,FECHA_INGRESO,FECHA_RECEPCION,TIPO_DOCUMENTO,DOCUMENTO_INPUGNADO,RESOLUCION_COBRANZA,MONTO,USUARIO_CREACION,USUARIO_ACTUALIZACION,FECHA_CREACION,FECHA_ACTUALIZACION,EST_APELACION,EST_RESOLUTOR,EST_RESOLVER,EST_NOTIFICAR,OBSERVACION,TIPO_EXPEDIENTE,FECHA_LIMITE) values (73,'37072-2024-E','2405RC05053','Tienda Clásica S.A.C.','20121617624','NOTA N° 198-2024-SGCNT-GCCC-GCGF/ESSALUD',to_date('02/05/2024','DD/MM/RRRR'),to_date('08/05/2024','DD/MM/RRRR'),'2','802990174173','802990174173',820,'IGOR','IGOR',to_date('08/05/2024','DD/MM/RRRR'),to_date('08/05/2024','DD/MM/RRRR'),'1','1','1','1',null,'1',to_date('26/05/2024','DD/MM/RRRR'));
Insert into COSORIO.APELACION_G (ID_APELACION,NIT,EXPEDIENTE,EMPLEADOR,RUC,DOCUMENTO,FECHA_INGRESO,FECHA_RECEPCION,TIPO_DOCUMENTO,DOCUMENTO_INPUGNADO,RESOLUCION_COBRANZA,MONTO,USUARIO_CREACION,USUARIO_ACTUALIZACION,FECHA_CREACION,FECHA_ACTUALIZACION,EST_APELACION,EST_RESOLUTOR,EST_RESOLVER,EST_NOTIFICAR,OBSERVACION,TIPO_EXPEDIENTE,FECHA_LIMITE) values (114,'68675-2024-E','2408RC05093','Dirección Nacional de Servicio Público','20497905462','NOTA N° 346-2024-SGCNT-GCCC-GCGF/ESSALUD',to_date('14/08/2024','DD/MM/RRRR'),to_date('16/08/2024','DD/MM/RRRR'),'2','802990183661','802990183661',33332,'IGOR','IGOR',to_date('16/08/2024','DD/MM/RRRR'),to_date('16/08/2024','DD/MM/RRRR'),'1','1','1',null,null,'1',to_date('05/09/2024','DD/MM/RRRR'));
Insert into COSORIO.APELACION_G (ID_APELACION,NIT,EXPEDIENTE,EMPLEADOR,RUC,DOCUMENTO,FECHA_INGRESO,FECHA_RECEPCION,TIPO_DOCUMENTO,DOCUMENTO_INPUGNADO,RESOLUCION_COBRANZA,MONTO,USUARIO_CREACION,USUARIO_ACTUALIZACION,FECHA_CREACION,FECHA_ACTUALIZACION,EST_APELACION,EST_RESOLUTOR,EST_RESOLVER,EST_NOTIFICAR,OBSERVACION,TIPO_EXPEDIENTE,FECHA_LIMITE) values (165,'85050-2024-E','2410RC05138','Corporación Kronos Perú S.A.C.','20615067338','NOTA N° 476-2024-SGCNT-GCCC-GCGF/ESSALUD',to_date('01/10/2024','DD/MM/RRRR'),to_date('17/10/2024','DD/MM/RRRR'),'2','802990180101','802990180101',1640,'IGOR','IGOR',to_date('17/10/2024','DD/MM/RRRR'),to_date('17/10/2024','DD/MM/RRRR'),'1','1',null,null,null,'1',to_date('24/10/2024','DD/MM/RRRR'));
Insert into COSORIO.APELACION_G (ID_APELACION,NIT,EXPEDIENTE,EMPLEADOR,RUC,DOCUMENTO,FECHA_INGRESO,FECHA_RECEPCION,TIPO_DOCUMENTO,DOCUMENTO_INPUGNADO,RESOLUCION_COBRANZA,MONTO,USUARIO_CREACION,USUARIO_ACTUALIZACION,FECHA_CREACION,FECHA_ACTUALIZACION,EST_APELACION,EST_RESOLUTOR,EST_RESOLVER,EST_NOTIFICAR,OBSERVACION,TIPO_EXPEDIENTE,FECHA_LIMITE) values (194,'51720240001728','2412RC05187','Hospital Virgen del Carmen AIS','20181505365','NOTA N° 554-2024-SGCNT-GCCC-GCGF/ESSALUD',to_date('20/11/2024','DD/MM/RRRR'),to_date('02/12/2024','DD/MM/RRRR'),'2','802990183326','802990183326',3184,'IGOR','IGOR',to_date('02/12/2024','DD/MM/RRRR'),to_date('02/12/2024','DD/MM/RRRR'),'1',null,null,null,null,'1',to_date('15/12/2024','DD/MM/RRRR'));
Insert into COSORIO.APELACION_G (ID_APELACION,NIT,EXPEDIENTE,EMPLEADOR,RUC,DOCUMENTO,FECHA_INGRESO,FECHA_RECEPCION,TIPO_DOCUMENTO,DOCUMENTO_INPUGNADO,RESOLUCION_COBRANZA,MONTO,USUARIO_CREACION,USUARIO_ACTUALIZACION,FECHA_CREACION,FECHA_ACTUALIZACION,EST_APELACION,EST_RESOLUTOR,EST_RESOLVER,EST_NOTIFICAR,OBSERVACION,TIPO_EXPEDIENTE,FECHA_LIMITE) values (128,'75355-2024-E','2409RC05114','Ramírez Ramírez Carla E.','10163893465','NOTA N° 398-2024-SGCNT-GCCC-GCGF/ESSALUD',to_date('04/09/2024','DD/MM/RRRR'),to_date('20/09/2024','DD/MM/RRRR'),'2','802990177050','802990177050',3038,'IGOR','IGOR',to_date('20/09/2024','DD/MM/RRRR'),to_date('20/09/2024','DD/MM/RRRR'),'1','1','1',null,null,'1',to_date('26/09/2024','DD/MM/RRRR'));
Insert into COSORIO.APELACION_G (ID_APELACION,NIT,EXPEDIENTE,EMPLEADOR,RUC,DOCUMENTO,FECHA_INGRESO,FECHA_RECEPCION,TIPO_DOCUMENTO,DOCUMENTO_INPUGNADO,RESOLUCION_COBRANZA,MONTO,USUARIO_CREACION,USUARIO_ACTUALIZACION,FECHA_CREACION,FECHA_ACTUALIZACION,EST_APELACION,EST_RESOLUTOR,EST_RESOLVER,EST_NOTIFICAR,OBSERVACION,TIPO_EXPEDIENTE,FECHA_LIMITE) values (139,'73842-2024-E','2409RC05125','Hilos y Afines Eduardo EIRL','20314256147','NOTA N° 409-2024-SGCNT-GCCC-GCGF/ESSALUD',to_date('29/08/2024','DD/MM/RRRR'),to_date('24/09/2024','DD/MM/RRRR'),'2','802990138579','802990138579',2070,'IGOR','IGOR',to_date('24/09/2024','DD/MM/RRRR'),to_date('24/09/2024','DD/MM/RRRR'),'1','1','1',null,null,'1',to_date('22/09/2024','DD/MM/RRRR'));
Insert into COSORIO.APELACION_G (ID_APELACION,NIT,EXPEDIENTE,EMPLEADOR,RUC,DOCUMENTO,FECHA_INGRESO,FECHA_RECEPCION,TIPO_DOCUMENTO,DOCUMENTO_INPUGNADO,RESOLUCION_COBRANZA,MONTO,USUARIO_CREACION,USUARIO_ACTUALIZACION,FECHA_CREACION,FECHA_ACTUALIZACION,EST_APELACION,EST_RESOLUTOR,EST_RESOLVER,EST_NOTIFICAR,OBSERVACION,TIPO_EXPEDIENTE,FECHA_LIMITE) values (10,'1758 - 2024 - E','2402RC04999','Castillo Morales Juan Carlos','10564283491','NOTA N° 042-2024-SGCNT-GCCC-GCGF/ESSALUD',to_date('16/01/2024','DD/MM/RRRR'),to_date('16/02/2024','DD/MM/RRRR'),'2','802990142603','802990142603',2144,'IGOR','IGOR',to_date('16/02/2024','DD/MM/RRRR'),to_date('16/02/2024','DD/MM/RRRR'),'1','1','1','1','DEVUELTO REC. DE RECONSID.','1',to_date('07/02/2024','DD/MM/RRRR'));
Insert into COSORIO.APELACION_G (ID_APELACION,NIT,EXPEDIENTE,EMPLEADOR,RUC,DOCUMENTO,FECHA_INGRESO,FECHA_RECEPCION,TIPO_DOCUMENTO,DOCUMENTO_INPUGNADO,RESOLUCION_COBRANZA,MONTO,USUARIO_CREACION,USUARIO_ACTUALIZACION,FECHA_CREACION,FECHA_ACTUALIZACION,EST_APELACION,EST_RESOLUTOR,EST_RESOLVER,EST_NOTIFICAR,OBSERVACION,TIPO_EXPEDIENTE,FECHA_LIMITE) values (20,'10241 - 2024 - E','2403RC05011','Protecsui S.A.C.','20542605584','NOTA N° 098-2024-SGCNT-GCCC-GCGF/ESSALUD',to_date('08/02/2024','DD/MM/RRRR'),to_date('27/03/2024','DD/MM/RRRR'),'2','802140042706','802990170999',6607,'IGOR','IGOR',to_date('27/03/2024','DD/MM/RRRR'),to_date('27/03/2024','DD/MM/RRRR'),'1','1','1','1',null,'1',to_date('03/03/2024','DD/MM/RRRR'));
Insert into COSORIO.APELACION_G (ID_APELACION,NIT,EXPEDIENTE,EMPLEADOR,RUC,DOCUMENTO,FECHA_INGRESO,FECHA_RECEPCION,TIPO_DOCUMENTO,DOCUMENTO_INPUGNADO,RESOLUCION_COBRANZA,MONTO,USUARIO_CREACION,USUARIO_ACTUALIZACION,FECHA_CREACION,FECHA_ACTUALIZACION,EST_APELACION,EST_RESOLUTOR,EST_RESOLVER,EST_NOTIFICAR,OBSERVACION,TIPO_EXPEDIENTE,FECHA_LIMITE) values (22,'14242 - 2024 - E','2403RC05009','Protecsui S.A.C.','20542605584','NOTA N° 100-2024-SGCNT-GCCC-GCGF/ESSALUD',to_date('20/02/2024','DD/MM/RRRR'),to_date('27/03/2024','DD/MM/RRRR'),'2','802990145862','802990145862',106005,'IGOR','IGOR',to_date('27/03/2024','DD/MM/RRRR'),to_date('27/03/2024','DD/MM/RRRR'),'1','1','1','1',null,'1',to_date('13/03/2024','DD/MM/RRRR'));
Insert into COSORIO.APELACION_G (ID_APELACION,NIT,EXPEDIENTE,EMPLEADOR,RUC,DOCUMENTO,FECHA_INGRESO,FECHA_RECEPCION,TIPO_DOCUMENTO,DOCUMENTO_INPUGNADO,RESOLUCION_COBRANZA,MONTO,USUARIO_CREACION,USUARIO_ACTUALIZACION,FECHA_CREACION,FECHA_ACTUALIZACION,EST_APELACION,EST_RESOLUTOR,EST_RESOLVER,EST_NOTIFICAR,OBSERVACION,TIPO_EXPEDIENTE,FECHA_LIMITE) values (31,'179-2023-23636 / 37901 - 2024 - I','2404RC04989','Unidad de Administración Educativa Local 05','20374924251','NOTA N° 127-2024-SGCNT-GCCC-GCGF/ESSALUD',to_date('13/12/2023','DD/MM/RRRR'),to_date('04/04/2024','DD/MM/RRRR'),'2','802990160652','802990160652',75672,'IGOR','IGOR',to_date('04/04/2024','DD/MM/RRRR'),to_date('04/04/2024','DD/MM/RRRR'),'1','1','1','1',null,'1',to_date('08/01/2024','DD/MM/RRRR'));
--------------------------------------------------------
--  DDL for Trigger TRG_APELACION_G
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "COSORIO"."TRG_APELACION_G" 
BEFORE INSERT ON Apelacion_G
FOR EACH ROW
BEGIN
   IF :NEW.ID_APELACION IS NULL THEN
      :NEW.ID_APELACION := SEQ_APELACION_G.NEXTVAL;
   END IF;
END;
/
ALTER TRIGGER "COSORIO"."TRG_APELACION_G" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_APELACIONF_G
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "COSORIO"."TRG_APELACIONF_G" 
BEFORE INSERT ON apelacion_g
FOR EACH ROW
DECLARE
    v_fecha DATE;
    fecha_r DATE;
BEGIN
    v_fecha := :NEW.FECHA_RECEPCION;
    GIOVANNI_CAL.Calcular_FL(v_fecha,fecha_r);

    IF :NEW.FECHA_LIMITE IS NULL THEN
        :NEW.FECHA_LIMITE := fecha_r;
    END IF;
END;
/
ALTER TRIGGER "COSORIO"."TRG_APELACIONF_G" ENABLE;
